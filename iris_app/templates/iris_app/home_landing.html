{% extends 'iris_app/base.html' %}
{% load static %}
{% block extra_css %}
<style>
    .sidebar {
        display: none !important;
    }

    .main-wrapper {
        margin-left: 0 !important;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<header class="hero">
    <video class="hero-video" autoplay muted loop playsinline>
        <source src="{% static 'iris_app/video/KBK8A2C_1.mp4' %}" type="video/mp4">
    </video>
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1>Every Idea Matters</h1>
        <p>Join a global community of innovators solving real-world challenges. Share ideas, collaborate with teams, and
            earn rewards for your creativity.</p>
        <button class="btn btn-primary rounded-0 ">Explore Challenges</button>
    </div>
    <div class="carousel-controls">
        <button class="carousel-btn prev"></button>
        <div class="carousel-dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
        <button class="carousel-btn next"></button>
    </div>
</header>

<!-- Featured Challenges -->
<section class="challenges-section" id="challenges">
    <div class="challenges-wrapper">
        <!-- Left Content -->
        <div class="challenges-content">
            <h2>Step into the arena where <span>ideas take shape through real world problem statements.</span></h2>
            <p>Join the challenges designed to crack real business problems</p>
            <ul class="challenges-list">
                <li>Compete, learn, and build ideas that push the boundaries of what's possible.</li>
            </ul>
            <a href="{% url 'challenge_list' %}" class="btn btn-primary rounded-0">Explore the Challenges</a>
        </div>

        <!-- Right Content - Challenge Cards -->
        <div class="challenges-carousel">
            <div class="carousel-header">
                <span>View All Challenges</span>
                <div class="carousel-nav">
                    <button class="carousel-arrow prev"></button>
                    <button class="carousel-arrow next"></button>
                </div>
            </div>

            <div class="challenges-cards">
                <!-- Dynamic Challenge Cards (Ideally loop through database challenges here) -->
                {% if recent_challenges %}
                {% for challenge in recent_challenges %}
                <div class="challenge-card-item">
                    <div class="challenge-badge">CHALLENGES</div>
                    {% if challenge.challenge_icon %}
                    <img src="{{ challenge.challenge_icon.url }}" alt="{{ challenge.title }}"
                        class="challenge-card-image">
                    {% else %}
                    <img src="{% static 'iris_app/images/techlednetwork.png' %}" alt="{{ challenge.title }}"
                        class="challenge-card-image">
                    {% endif %}
                    <div class="challenge-card-content">
                        <h3>{{ challenge.title }}</h3>
                        <div class="challenge-card-tags">
                            <span class="tag-small">QA</span>
                            <span class="tag-small">Automation</span>
                        </div>
                        <div class="challenge-card-meta">
                            <span class="meta-time">{{ challenge.end_date|timeuntil }} left</span>
                            <span class="meta-views">120</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <!-- Static Fallback if no challenges -->
                <div class="challenge-card-item">
                    <div class="challenge-badge">CHALLENGES</div>
                    <img src="{% static 'iris_app/images/techlednetwork.png' %}"
                        alt="Technology Led Network Transformation" class="challenge-card-image">
                    <div class="challenge-card-content">
                        <h3>Technology Led Network Transformation As a Service</h3>
                        <div class="challenge-card-tags">
                            <span class="tag-small">QA</span>
                            <span class="tag-small">Automation</span>
                            <span class="tag-small">Testing</span>
                        </div>
                        <div class="challenge-card-meta">
                            <span class="meta-time">15d left</span>
                            <span class="meta-views">120</span>
                        </div>
                    </div>
                </div>

                <div class="challenge-card-item">
                    <div class="challenge-badge">CHALLENGES</div>
                    <img src="{% static 'iris_app/images/unifiedtest.png' %}" alt="Unified Test Automation"
                        class="challenge-card-image">
                    <div class="challenge-card-content">
                        <h3>Unified Test Automation Across Domains</h3>
                        <div class="challenge-card-tags">
                            <span class="tag-small">QA</span>
                            <span class="tag-small">Automation</span>
                            <span class="tag-small">Testing</span>
                        </div>
                        <div class="challenge-card-meta">
                            <span class="meta-time">12d left</span>
                            <span class="meta-views">120</span>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Grassroot Section (About Us) -->
<section class="grassroot-section" id="about">
    <div class="container grassroot-container">
        <div class="grassroot-content">
            <h2>Grassroot empowers you to improve what you work on every day.</h2>
            <p>Submit practical, high-impact ideas from your project and drive measurable outcomes from the ground up.
            </p>
            <div class="grassroot-features">
                <p>Convert everyday challenges into scalable best practices.</p>
                <p>Strengthen client confidence through proactive innovation.</p>
                <p>Turn microinnovations into enterprise-level value.</p>
            </div>
        </div>
        <div class="grassroot-card">
            <div class="reward-badge">
                <span class="badge-text">Get <strong>2x Reward</strong> Points!</span>
            </div>
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-number">65+</div>
                    <div class="stat-label">Total submissions</div>
                </div>
                <div class="divider"></div>
                <div class="stat-item">
                    <div class="stat-number">48+</div>
                    <div class="stat-label">Ideas Validated</div>
                </div>
                <div class="divider"></div>
                <div class="stat-item">
                    <div class="stat-number">34</div>
                    <div class="stat-label">Ideas Implemented</div>
                </div>
            </div>
            <div class="card-footer">
                <div class="status-badge">
                    <span class="status-dot"></span>
                    <span>Ideation on</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Achievements Section -->
<section class="achievements-section">
    <div class="container">
        <h2>Rewards & Achievements</h2>
        <p>Track your progress and unlock exclusive rewards</p>
        <div class="achievements-grid">
            <div class="achievement-card">
                <div class="achievement-icon">
                    <img src="{% static 'iris_app/images/innovation.png' %}" alt="Innovation Leader">
                </div>
                <h3>Innovation Leader</h3>
                <p>Complete 5 challenges with winning ideas</p>
                <div class="progress-info">
                    <span>2/5</span>
                    <span>2000 pts</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 40%;"></div>
                </div>
            </div>
            <!-- More cards can be added here -->
        </div>
    </div>
</section>

<!-- Leaderboard Section -->
<section class="leaderboard-section">
    <div class="container">
        <h2>Leaderboard</h2>
        <p>Top Contributors</p>
        <div class="leaderboard-grid">
            <div class="leaderboard-rank rank-2">
                <img src="{% static 'iris_app/images/George.png' %}" alt="George D" class="rank-avatar">
                <div class="rank-badge">
                    <img src="{% static 'iris_app/images/broze.png' %}" alt="Rank 2">
                    <span>2</span>
                </div>
                <h3>George D</h3>
                <div class="rank-stats">
                    <strong>9,100 pts</strong> | <strong>8 Subs.</strong>
                </div>
            </div>
            <div class="leaderboard-rank rank-1">
                <img src="{% static 'iris_app/images/Vijaya.png' %}" alt="Vijaya Rao" class="rank-avatar">
                <div class="rank-badge">
                    <img src="{% static 'iris_app/images/gold.png' %}" alt="Rank 1">
                    <span>1</span>
                </div>
                <h3>Vijaya Rao</h3>
                <div class="rank-stats">
                    <strong>9,100 pts</strong> | <strong>8 Subs.</strong>
                </div>
            </div>
            <div class="leaderboard-rank rank-3">
                <img src="{% static 'iris_app/images/dipika.png' %}" alt="Dipika Das" class="rank-avatar">
                <div class="rank-badge">
                    <img src="{% static 'iris_app/images/silver.png' %}" alt="Rank 3">
                    <span>3</span>
                </div>
                <h3>Dipika Das</h3>
                <div class="rank-stats">
                    <strong>9,100 pts</strong> | <strong>7 Subs.</strong>
                </div>
            </div>
        </div>
        <!-- Leaderboard Table -->
        <div class="leaderboard-table">
            <table>
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Participant</th>
                        <th>Username</th>
                        <th>Points</th>
                        <th>Submissions</th>
                        <th>Challenge</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>4</td>
                        <td>
                            <img src="{% static 'iris_app/images/ananya.png' %}" alt="Ananya Raj">
                            <span>Ananya Raj</span>
                        </td>
                        <td><span class="username">@ananya</span></td>
                        <td>8,100</td>
                        <td>5</td>
                        <td><span class="challenge-badge">Innovation Hub</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <a href="#" class="view-all">View Full Leaderboard →</a>
    </div>
</section>

<!-- Community Section -->
<section class="community-section" id="community">
    <div class="section-bg"></div>
    <div class="container">
        <h1 class="community-title">Connect, Collaborate and Create<br>Impact Together</h1>
        <div class="community-featured-wrapper">
            <div class="featured-card">
                <img src="{% static 'iris_app/images/Internalcommunciation.png' %}" alt="Internal Communications"
                    class="banner-image">
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <div class="cta-left">
                <div class="cta-icon">
                    <img src="{% static 'iris_app/images/Vector.png' %}">
                </div>
                <div class="cta-text">
                    <h2>Ready to Make an Impact?</h2>
                    <p>Join community of innovators and start collaborating today!</p>
                </div>
            </div>
            <button class="btn btn-primary cta-button rounded-0">Submit your Ideas <span class="arrow">→</span></button>
        </div>
    </div>
</section>

<!-- Innovator Testimonial -->
<section class="testimonial-section">
    <div class="container">
        <div class="testimonial-header">
            <p class="testimonial-label">What our</p>
            <h2>Innovator Says</h2>
        </div>
        <div class="testimonial-card">
            <div class="testimonial-image-wrapper">
                <div class="testimonial-image">
                    <img src="{% static 'iris_app/images/nikhil.png' %}" alt="NIKHIL MALHOTRA">
                </div>
                <div class="testimonial-nav">
                    <button class="nav-btn prev-btn">‹</button>
                    <button class="nav-btn next-btn">›</button>
                </div>
            </div>
            <div class="testimonial-content">
                <h3>NIKHIL MALHOTRA</h3>
                <p class="testimonial-title">Chief Innovation Officer & Global Head – AI, Tech Mahindra</p>
                <blockquote>
                    "Innovation represents the pursuit of novel ideas designed to refine existing processes or enhance
                    applications. This initiative has successfully empowered many to contribute creative solutions that
                    drive Tech Mahindra’s business objectives and optimize our technical ecosystem. By fostering this
                    culture of continuous improvement, we are ensuring that our applications remain efficient,
                    competitive, and future-ready."
                </blockquote>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq-section" id="faq">
    <div class="container">
        <h2>Your Questions?</h2>
        <p>If you have questions, we have answers for you here. In case we don't, please feel free to reach out to us
            here <strong>iris@techmahindra.com</strong></p>

        <div class="faq-accordion">
            <div class="faq-item">
                <div class="faq-header">
                    <span class="faq-number">1.</span>
                    <h3>Which programs does Tech Mahindra Foundation run?</h3>
                    <button class="faq-toggle">+</button>
                </div>
                <div class="faq-content">
                    <p>Our programs cater to underserved communities, including women, youth, children, teachers, and
                        persons with disabilities. We collaborate with NGOs, educational institutions, and government
                        bodies to ensure maximum outreach and impact.</p>
                </div>
            </div>
            <!-- More FAQ items... -->
        </div>
    </div>
</section>
{% endblock %}